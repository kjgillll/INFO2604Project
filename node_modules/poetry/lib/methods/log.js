const winston = require( 'winston' );

var transports = [
    new( winston.transports.Console )( {
        showLevel: true,
        colorize: true
    } )
];

if ( process.env.LOGS || process.env.logs ) {
    var logs = process.env.LOGS || process.env.logs;
    try {
        logs = JSON.parse( logs );
        if ( !Array.isArray( logs ) ) logs = [ logs ];
        logs.forEach( function ( l ) {
            transports.push( l );
        } );
    } catch ( e ) {}
}

var logger = new winston.Logger( {
    level: 'silly',
    transports: transports
} );

module.exports = logger.debug;
module.exports.silly = logger.silly;
module.exports.debug = logger.debug;
module.exports.verbose = logger.verbose;
module.exports.info = logger.info;
module.exports.warn = logger.warn;
module.exports.err = logger.error;
module.exports.error = logger.error;
